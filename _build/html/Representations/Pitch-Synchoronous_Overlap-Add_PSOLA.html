
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pitch-Synchoronous Overlap-Add (PSOLA) &#8212; Introduction to Speech Processing</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Introduction to Speech Processing</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Introduction to Speech Processing
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../Introduction/Why_speech_processing.html">
   Why speech processing?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Introduction/Speech_production_and_acoustic_properties.html">
   Speech production and acoustic properties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://en.wikipedia.org/wiki/Speech_perception">
   https://en.wikipedia.org/wiki/Speech_perception
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Introduction/Linguistic_structure_of_speech.html">
   Linguistic structure of speech
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://en.wikipedia.org/wiki/Speech-language_pathology">
   https://en.wikipedia.org/wiki/Speech-language_pathology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Introduction/Applications_and_systems_structures.html">
   Applications and systems structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="http://pressbooks-dev.oer.hawaii.edu/messageprocessing/">
   http://pressbooks-dev.oer.hawaii.edu/messageprocessing/
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Representations/Pitch-Synchoronous_Overlap-Add_PSOLA.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attachments">
   Attachments:
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pitch-Synchoronous Overlap-Add (PSOLA)</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#attachments">
   Attachments:
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="pitch-synchoronous-overlap-add-psola">
<h1>Pitch-Synchoronous Overlap-Add (PSOLA)<a class="headerlink" href="#pitch-synchoronous-overlap-add-psola" title="Permalink to this headline">¶</a></h1>
<div class="contentLayout2">
<div class="columnLayout two-equal" layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Many speech applications require the ability to modify the fundamental
frequency. For a classic but marginal application, think of the
<a class="reference external" href="https://en.wikipedia.org/wiki/Auto-Tune">auto-tune</a> function often used
in post-processing of singing voices. With such tools it is possible to
change the fundamental frequency of a speaker’s or singer’s voice
without changing the phoneme or timbre of the sound. One of the more
popular tools developed for this purpose is pitch-synchronous
overlap-add (PSOLA). Like the name suggests, it is closely related to
the overlap-add method used in the <span class="xref myst">short-time Fourier
transform</span> algorithm. It allows changing the
pitch of a speech sound without modifying or with only minor influence
on other characteristics of the signal, such as vowel-identity. In
addition to auto-tune, an important application of PSOLA is <a class="reference external" href="https://en.wikipedia.org/wiki/Speech_synthesis">speech
synthesis</a>, where we
want to be able generate speech with any reasonable pitch contour. Voice
conversion is another application, where the objective is to convert the
speech of one person, such that it sounds like speech of another person.</p>
</div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Illustration of the PSOLA process; find period length and maximum peak
in each period.</p>
<p><img src="attachments/155477136/175514551.png"
data-image-src="attachments/155477136/175514551.png"
data-unresolved-comment-count="0" data-linked-resource-id="175514551"
data-linked-resource-version="2" data-linked-resource-type="attachment"
data-linked-resource-default-alias="psola1.png"
data-base-url="https://wiki.aalto.fi"
data-linked-resource-content-type="image/png"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5" width="400" /></p>
</div>
</div>
</div>
<div class="columnLayout two-equal" layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>The basic idea of PSOLA is to decompose the signal into individual
pitch-periods, such that we can move the pitch-periods to change the
effective length of those periods. That is, the fundamental frequency of
a signal is expressed as a periodic structure of the time-signal. If we
cut the signal into segment corresponding to the length of such periodic
structures, then we can shift their positions as desired and then add
them back together, like in the overlap-add process (see STFT). Since
short-term correlations in the signal are not changed, that is, signal
inside the windows/segments is not changed, then the spectral envelope
of the signal is not changed.</p>
</div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>PSOLA analysis windowing, time-shift and synthesis windowing</p>
<p><img src="attachments/155477136/175514552.png"
data-image-src="attachments/155477136/175514552.png"
data-unresolved-comment-count="0" data-linked-resource-id="175514552"
data-linked-resource-version="2" data-linked-resource-type="attachment"
data-linked-resource-default-alias="psola2.png"
data-base-url="https://wiki.aalto.fi"
data-linked-resource-content-type="image/png"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5" width="400" /></p>
</div>
</div>
</div>
<div class="columnLayout two-equal" layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>To illustrate the principle, consider the following basic algorithm:</p>
<ol class="simple">
<li><p>Estimate the fundamental frequency contour of a speech sample.</p></li>
<li><p>Find pitch periods of the speech sample, for example by identifying
the largest peak in each period.</p></li>
<li><p>Extract windows of the speech signal covering <em>two</em> pitch periods.
Apply a <a class="reference internal" href="Windowing.html"><span class="doc std std-doc">windowing function</span></a> with perfect reconstruction.
(Observe: Perfect reconstruction should apply for each period, so we
construct half-length windows for each period. Conversely, the left
and right parts of windows can be of different length.)</p></li>
<li><p>Shift windows to match the desired pitch-period length.</p></li>
</ol>
<p>In the sound examples on the right, the pitch period lengths are
adjusted by a fixed multiplier to increase or decrease the fundamental
frequency. Observe that the implementation is not perfectly tuned such
that the output sound has some audible distortions.</p>
</div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>Sound examples with varying multiplier on distance between pitch periods</p>
<ul class="simple">
<li><p><a href="attachments/155477136/175514533.wav"
data-linked-resource-id="175514533" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola0.6.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola0.6.wav</a></p></li>
<li><p><a href="attachments/155477136/175514532.wav"
data-linked-resource-id="175514532" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola0.8.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola0.8.wav</a></p></li>
<li><p><a href="attachments/155477136/175514531.wav"
data-linked-resource-id="175514531" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola0.9.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola0.9.wav</a></p></li>
<li><p><a href="attachments/155477136/175514530.wav"
data-linked-resource-id="175514530" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola1.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola1.wav</a>
(original)</p></li>
<li><p><a href="attachments/155477136/175514529.wav"
data-linked-resource-id="175514529" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola1.1.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola1.1.wav</a></p></li>
<li><p><a href="attachments/155477136/175514528.wav"
data-linked-resource-id="175514528" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola1.2.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola1.2.wav</a></p></li>
<li><p><a href="attachments/155477136/175514527.wav"
data-linked-resource-id="175514527" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="sound_example_psola1.4.wav"
data-nice-type="Multimedia"
data-linked-resource-content-type="audio/x-wav"
data-linked-resource-container-id="155477136"
data-linked-resource-container-version="5">sound_example_psola1.4.wav</a></p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="pageSectionHeader">
<div class="section" id="attachments">
<h2>Attachments:<a class="headerlink" href="#attachments" title="Permalink to this headline">¶</a></h2>
</div>
<div class="greybox" align="left">
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola1.4.wav](attachments/155477136/175514527.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola1.2.wav](attachments/155477136/175514528.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola1.1.wav](attachments/155477136/175514529.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola1.wav](attachments/155477136/175514530.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola0.9.wav](attachments/155477136/175514531.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola0.8.wav](attachments/155477136/175514532.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[sound_example_psola0.6.wav](attachments/155477136/175514533.wav)
(audio/x-wav)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[psola1.png](attachments/155477136/175514554.png) (image/png)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[psola2.png](attachments/155477136/175514555.png) (image/png)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[psola1.png](attachments/155477136/175514551.png) (image/png)  
<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[psola2.png](attachments/155477136/175514552.png) (image/png)  
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Representations"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Tom Bäckström, Okko Räsänen, Abraham Zewoudie, Pablo Pérez Zarazaga, Liisa Koivusalo, Sneha Das<br/>
    
      <div class="extra_footer">
        <p>
<img src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" style="border-width: 0;" alt="Creative Commons License" />
This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
</p>

      </div>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>